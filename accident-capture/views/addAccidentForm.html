<style>
	.md-dialog-container{
		position: fixed;
		height: 100%;
	}
	.show-details{
		/* float: right; */
		cursor: pointer;
		padding: 20px;
		color: blue;
	}
	.show-details:hover{
		text-decoration: underline;
	}
	.expiry{
		border: 2px solid #F44336;
		background-color: #E57373;
		height: 40px;
		display: inline-block;
		width: 100%;
		text-align: center;
		/* vertical-align: middle; */
		font-size: 24px;
	}
</style>

<div ng-controller="AddAccidentController">

	<h3 align = "center">Accident Registering</h3>

	<!--<div style="padding:50px;padding-top:0">-->

	<!-- basic info for adding accident-->
	<div class = "panel panel-default" ng-if = "accidentBasicInfo" >
		<div class = "panel-heading">Basic Information Accident</div>
		<div class = "panel-body" >
			<div class="row">
				<div  ng-repeat="(key,value) in newAccidentForm ">

					<div class = "col-sm-4">
						<label style="font-size: 0.8em">{{ key}}</label><br />

						<input ng-if="isString(key) && !hasDataSets(key)"  ng-model="newAccidentForm[key]" class="form-control input-sm"/>
						<input ng-if="isInteger(key)"  ng-model="newAccidentForm[key]" class="form-control input-sm" />
						<select  ng-if="isBoolean(key)"  ng-model="newAccidentForm[key]" class="form-control input-sm">
							<option value="true">Yes</option><option value="false">No</option>
						</select>
						<select class="form-control input-sm" ng-if="hasDataSets(key)"  ng-options="item.name as item.name for item in getOptionSets(key)" ng-model="newAccidentForm[key]" />
						<input  ng-if="isDate(key)" ui-date="dateOptions" class="form-control input-sm" ng-model="newAccidentForm[key]"/>

					</div>
				</div>

				<!-- attendant of accident and number of witness & vehicle -->
				<div class = "col-sm-4">
					<label style="font-size: 0.8em">Accident Attendant</label><br />
					<input class="form-control input-sm" ng-model="otherDataForm['accidentAttendant']" >
				</div>
				<div class = "col-sm-4">
					<label style="font-size: 0.8em">Number Of Accident Vehicles</label><br />
					<input class="form-control input-sm" ng-model="otherDataForm['numberOfAccidentVehicles']" >
				</div>
				<div class = "col-sm-4">
					<label style="font-size: 0.8em">Number of Witness</label><br />
					<input class="form-control input-sm" ng-model="otherDataForm['numberOfAccidentWitness']" >
				</div>

			</div>
			<!-- button for providing info about accident vehicle -->
			<div  class = "row" style="margin:4%;">
				<div class = "pull-right">
					<button ng-click="addAccidentVehicle()" ng-if = "!accidentBasicInfoVisibility && accidentBasicInfoVisibilityButton"  class="btn btn-primary " style="color:#fff0ff;">Next</button>
				</div>
			</div>

		</div>

		<!--<div style = "width:50%;margin:auto;margin-bottom: 1%;margin-top: 1%">
			<button ng-click="changeAccidentBasicInfoVisibility()"  class = "btn btn-default form-control">
				<span ng-if = "accidentBasicInfoVisibility" >Show</span> <span ng-if = "!accidentBasicInfoVisibility">Hide</span> Accident Basic Information
			</button>
		</div>-->
	</div>




	<!-- for for accident vehicle details -->
	<div class = "panel panel-default" ng-if = "accidentVehicle">
		<div class = "panel-heading">Accident Vehicle(s) Information</div>

		<div class = "panel-body">

			<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

				<div ng-repeat="vehicle in vehicles ">

					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="heading{{ vehicle }}">
							<h4 class="panel-title" align = "center">
								<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{ vehicle }}" aria-expanded="true" aria-controls="collapse{{ vehicle }}">
									Accident Vehicle {{ vehicle + 1 }}
								</a>
							</h4>
						</div>
						<div id="collapse{{ vehicle }}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading{{ vehicle }}">
							<div class="panel-body">
								<!-- form fr adding each accident vehicle -->

								<div  ng-repeat="(key,value) in newAccidentVehicleForm ">

									<div class = "col-sm-4" ng-hide = "key >= 0" ng-if="key != 'Date of Birth' && key != 'Full Name' && key != 'Gender' && key != 'Vehicle Ownership Category' && key != 'Vehicle Owner Name' && key != 'Vehicle Class' && key != 'Make' && key != 'Model' ">

										<label style="font-size: 0.8em" >{{ key}}</label><br />
										<input ng-if="isString(key) && !hasDataSets(key)"  ng-model="newAccidentVehicleForm[vehicle][key]" class="form-control input-sm"/>
										<input ng-if="isInteger(key)"  ng-model="newAccidentVehicleForm[vehicle][key]" class="form-control input-sm" />
										<select  ng-if="isBoolean(key)"  ng-model="newAccidentVehicleForm[vehicle][key]" class="form-control input-sm">
											<option value="true">Yes</option><option value="false">No</option>
										</select>
										<select class="form-control input-sm" ng-if="hasDataSets(key)"  ng-options="item.name as item.name for item in getOptionSets(key)" ng-model="newAccidentVehicleForm[vehicle][key]" />
										<input  ng-if="isDate(key)" ui-date="dateOptions" class="form-control input-sm" ng-model="newAccidentVehicleForm[vehicle][key]"/>

									</div>
								</div>


							</div>
						</div>
					</div>

				</div>

			</div>





			<div  class = "row" style="margin:4%;">
				<div class = "pull-right">
					<button ng-click="addAccidentWitness()" class="btn btn-primary " style="color:#fff0ff;">Next</button>
				</div>
			</div>

		</div>
	</div>

	<!-- form for adding accident witness -->
	<div class = "panel panel-default" ng-if = "accidentWitness">
		<div class = "panel-heading">Accident Vehicle's Witness Information</div>
		<div class = "panel-body">

			<div class="panel-group" id="accordionwitness" role="tablist" aria-multiselectable="true">

				<div ng-repeat="witness in witnesses ">

					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="heading{{ witness }}">
							<h4 class="panel-title" align = "center">
								<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{ witness }}" aria-expanded="true" aria-controls="collapse{{ witness }}">
									Accident Witness {{ witness + 1 }}
								</a>
							</h4>
						</div>
						<div id="collapse{{ witness }}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading{{ witness }}">
							<div class="panel-body">
								<!-- form fr adding each accident witness -->

								<div  ng-repeat="(key,value) in newAccidentWitnessForm ">

									<div class = "col-sm-4" ng-hide = "key >= 0" >

										<label style="font-size: 0.8em">{{ key}}</label><br />
										<input ng-if="isString(key) && !hasDataSets(key)"  ng-model="newAccidentWitnessForm[witness][key]" class="form-control input-sm"/>
										<input ng-if="isInteger(key)"  ng-model="newAccidentWitnessForm[witness][key]" class="form-control input-sm" />
										<select  ng-if="isBoolean(key)"  ng-model="newAccidentWitnessForm[witness][key]" class="form-control input-sm">
											<option value="true">Yes</option><option value="false">No</option>
										</select>
										<select class="form-control input-sm" ng-if="hasDataSets(key)"  ng-options="item.name as item.name for item in getOptionSets(key)" ng-model="newAccidentWitnessForm[witness][key]" />
										<input  ng-if="isDate(key)" ui-date="dateOptions" class="form-control input-sm" ng-model="newAccidentWitnessForm[witness][key]"/>

									</div>
								</div>


							</div>
						</div>
					</div>

				</div>

			</div>


		</div>
	</div>

	<div style = "text-align: center" ng-if = "accidentWitness">
		<button ng-click = "saveAccident() " class="btn btn-primary " style="color:#fff0ff;margin-bottom:2%;">Add new Accident</button>
	</div>

	<!--</div>-->
</div>